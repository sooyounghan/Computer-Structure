-----
### 추정의 개념
-----
1. 더 많은 ILP를 찾아내고 이용하는 가장 중요한 방법 중 하나로 추정(Speculation)이 존재
   - 추정은 예측을 기반으로 하는 기술로 컴파일러나 프로세서가 명령어의 특성에 대해 추측할 수 있게 하여 이 명령어에 종속적일 수 있는 다른 명령어들의 실행을 시작할 수 있게 함
   - 예를 들어, 분기 명령어의 결과를 추정한다면, 분기 명령어 뒤의 명령어들이 일찍 실행될 수 있으며, 적재 명령어 바로 앞 저장 명령어가 같은 주소를 참조하지 않는다고 추정해 적재 명령어가 저장 명령어보다 먼저 실행될 수 있도록 하게 하는 것

2. 추정 기법의 어려운 점은 추정이 잘못될 수 있음
   - 따라서 모든 추정 기법은 추정이 올바른지 확인할 방법과 추정해서 실행했던 명령어들을 되돌리거나 아니면 그 효과를 취소하는 방법을 포함하여야 함
   - 이러한 취소 기능의 구현은 프로세서를 더 복잡하게 함
  
3. 추정은 컴파일러에서 이루어질 수도 있고, 하드웨어가 할 수 있음
   - 예를 들어, 컴파일러가 추정을 통해 명령어를 재정렬해서 어떤 명령어를 분기 명령어 너머로 또는 적재 명령어를 저장 명령어 너머로 올길 수 있음
   - 프로세서 하드웨어는 실행 시에 이와 같은 변환을 수행할 수 있음

4. 그러나 잘못된 추정에 대한 회복 방법은 다름
   - 소프트웨어로 추정하는 경우 컴파일러는 추정의 정확성을 체크할 명령어들을 추가하고 추정이 잘못되었을 때 사용할 오류 수정 루틴을 제공
   - 하드웨어 추정인 경우, 프로세서는 추정 결과가 더 이상 추정이 아니라는 것을 알 때까지 추정 결과를 버퍼링하는 것이 보통
   - 추정이 옳다면 버퍼의 내용을 레지스터나 메모리에 씀으로써 명령이 실행이 완성
   - 만약 추정이 틀렸으면 하드웨어는 버퍼 내용을 쓸어버리고 올바른 명령어 순서를 다시 실행

5. 추정은 또 다른 문제가 생길 가능성을 야기함
   - 어떤 명령어에 추정을 하면 전에 없었던 예외가 발생할 수 있음
   - 예를 들어, 적재 명령어가 추정에 의해 다른 위치로 옮겨졌는데, 추정이 잘못되었을 경우에는 이 명령어가 사용하는 주소가 불법 주소가 된다고 가정
     + 그러면 일어나지 말아야 할 예외가 일어날 수 있음
     + 이 적재 명령어가 추정된 것이 아니라면, 이 예외는 반드시 일어나야 된다는 사실 때문에 문제는 더욱 복잡해짐
     + 컴파일러 기반 추정에서는 이러한 예외가 정말 일어나야 한다는 것이 확실할 때까지 무시할 수 있게 해주는 특별 추정 지원을 추가함으로써 이 문제를 피할 수 있음
   - 하드웨어 기반 추정에서는 예외를 버퍼링해 두었다가, 예외를 일으킨 명령어가 추정 상태에서 벗어나 실행을 완료할 준비가 되면 이 때 예외를 일으키고, 정상적인 예외 처리를 진행

6. 추정이 올바르게 이루어지면 성능이 향상되고 추정이 잘못되면 성능이 감소하기 때문에 추정을 언제 하는것이 좋을지 결정하는데 막대한 노력을 기울여야 함
