-----
### 멀티프로세서 네트워크 위상 기초
-----
1. 멀티코어 칩은 코어들을 연결하기 위해 칩 내 네트워크가 필요하고 클러스터는 서버를 연결하기 위해 근거리 네트워크가 필요
2. 네트워크 가격은 스위치 개수, 스위치 하나당 필요한 링크 수, 링크 폭(즉, 비트 수), 실제 칩에 적용해을 때 링크의 길이 등에 의해 결정
   - 마찬가지로 네트워크 성능도 여러 측면이 있어서, 부하가 없는 네트워크에서 메세지 하나를 보내고 받는데 걸리는 시간, 주어진 시간 동안 전송할 수 있는 최대 메세지 개수로 표현되는 처리량, 네트워크 내에서 생기는 충돌에 의해 지연, 통신 패턴에 따라 달라지는 성능 등 다양한 요소가 포함
   - 또 어떤 시스템은 일부 요소가 고장나더라도 계속 작동할 수 있어야 하므로 네트워크에 고장 감내 기능이 있어야 함
   - 요즘에는 칩에 에너지 제한이 있으므로, 네트워크 구조의 에너지 효율이 다른 요소보다 더 중요할 수 있음

3. 네트워크는 보통 그래프로 표현
   - 그래프의 간선은 통신 네트워크의 링크를 나타냄
   - 프로세서-메모리 노드는 검은 사각형 / 스위치는 파란색 원으로 표시
   - 링크는 모두 양방향성이며, 모든 네트워크는 스위치들로 구성되며, 스위치에 프로세서-메모리 노드로 가는 링크와 다른 스위치로 가는 링크가 있음

4. 모든 노드를 순서대로 연결하는 네트워크
<div align="center">
<img src="https://github.com/user-attachments/assets/39afeb33-0145-4991-b001-0d97c8abe505">
</div>

   - 이러한 연결 구조를 링(Ring)이라 하며, 직접 연결되지 않는 노드들도 있으므로 어떤 메세지들은 중간 노드들을 거쳐 최종 목적지에 도달
   - 버스(연결된 모든 장치들에게 정보를 브로드캐스팅할 수 있는 한 무리의 공유 신호선)와는 달리 여러 개 전송을 동시에 수행 가능

5. 위상의 종류가 다양하므로 구별하기 위한 성능 척도가 필요
   - 총 네트워크 대역폭(Network Bandwidth, 비공식적으로 네트워크의 최대 전송률을 나타내며, 한 링크 속도를 나타낼 때도 있으며, 네트워크 전체 링크 전송 속도의 합을 나타낼 때도 있음)으로서 각 링크의 대역폭에 링크 수를 곱한 것
     + 이 척도는 최선의 경우에 얻을 수 있는 성능에 해당
     + 링 네트워크의 경우, 프로세서가 P개라면 한 링크의 대역폭에 P를 곱한 값
     + 반면, 버스의 경우 버스 대역폭이 전체 대역폭이 됨

   - 최선의 경우 대역폭과 균형을 맞추기 위해 최악의 경우 성능에 근사하는 또 다른 척도를 사용하는데 양분 대역폭(Bisection Bandwidth, 멀티프로세서에서 균등하게 분할된 두 부분 간의 대역폭으로, 최악의 양분에 대한 값을 사용)
     + 양분 대역폭은 전체 네트워크를 같은 크기로 양분하여 그 경계선을 통과하는 링크의 대역폭을 모두 합한 값
     + 링의 양분 대역폭은 링크 대역폭의 2배이고, 버스의 양분 대역폭은 버스 대역폭과 같음
     + 링의 링크 속도와 버스의 링크 속도가 같다면 최선의 경우 P배 빠르지만, 최악의 경우 2배밖에 빠르지 않ㄹ음

6. 비대칭형인 네트워크가 존재하므로 어떻게 2개로 가로느냐 하는 것이 문제가 됨
   - 양분 대역폭은 최악의 성능을 표시하는 것이므로 가장 성능이 나쁜 분할을 택해야 함
   - 즉, 모든 가능한 경우를 계산해서 그 중 가장 나쁜 값을 취해야 함 : 이유는 통신 경로에서 가장 취약한 링크에 의해 병렬 프로그램의 성능이 제한되는 경우가 많기 때문임

7. 링과 반대쪽 극단에 완전 연결 네트워크(Fully Connected Network, 모든 프로세서-메모리 노드들을 전용 통신 링크로 연결하는 네트워크)가 존재
   - 완전 연결 네트워크는 모든 프로세서를 양방향 링크로 직접 연결하므로, 네트워크 전체 대역폭은 P X (P - 1) / 2이고, 양분 대역폭은 $(P/2)^{2}$

8. 어떤 네트워크를 사용하는 것이 좋은가는 그 컴퓨터에서 수행될 병렬 프로그램의 통신 특성에 따라 달라짐
   - 가장 많이 사용된 위상 중 두 가지
<div align="center">
<img src="https://github.com/user-attachments/assets/919f31a6-eace-45bb-bc1b-3a91fa800e75">
</div>

9. 네트워크 노드마다 프로세서를 하나씩 두는 대신 일부 노드에는 스위치만 두는 방식이 존재
    - 이 경우 스위치들은 프로세서-메모리-스위치 노드보다 훨씬 작으므로 더 촘촘하게 설치할 수 있어 연결 거리를 단축하고 따라서 성능을 개선시킬 수 있음
    - 이런 네트워크에서는 보통 메세지가 여러 단계를 거쳐 전달되므로 다단계 네트워크(Multi-Stage Network, 작은 스위치들을 여러 단계로 배치해서 노드를 연결하는 네트워크)
    - 다단계 네트워크 종류 또한 다양함
<div align="center">
<img src="https://github.com/user-attachments/assets/2d88eaa1-1016-487a-ae3a-278f41e568ab">
</div>

   - 완전 연결 또는 크로스바 네트워크(Crossbar Network, 임의의 노드가 다른 어떤 노드의 통신을 하든지 네트웤크를 한 번만 통과하면 가능한 네트워크)라 불리는 것은 어떤 노드 간의 통신도 한 번에 이루어줌
   - 오메가 네트워크(Omega Network)는 크로스바 네트워크보다 더 작은 하드웨어를 사용하는 대신 ($2n log_{2} n$ 대 $n^{2}$ 스위치) 통신 패턴에 따라 메세지들 간 충돌이 발생할 수 있음
   - 위 그림에서 오메가 네트워크에서 $P_{0}$에서 $P_{6}$로 가는 메세지와 $P_{1}$에서 $P_{4}$로 가는 메세지는 동시에 전송 불가
