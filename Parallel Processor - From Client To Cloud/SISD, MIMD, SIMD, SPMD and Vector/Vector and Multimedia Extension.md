-----
### 벡터와 멀티미디어 확장으 ㅣ비교
-----
1. x86 AVX 명령어의 멀티미디어 확장과 같이 벡터 명령어도 여러 연산을 지정
2. 그러나 멀티미디어 확장이 서너 개의 연산을 지정한다면, 벡터는 수십 개의 연산을 지정하는 것이 다름
3. 또 멀티미디어 확장과 달리 벡터 연산에 사용되는 원소의 수는 opcode에 표시하지 않고, 별도의 레지스터로 지정
4. 따라서, 벡터 구조의 버전이 바뀌면서 원소의 수를 바꿔야 할 경우, 벡터 구조에서는 해당 레지스터의 값만 바꾸면 되므로 기계어 수준의 호환성 유지 가능
5. 하지만 MMX, SSE, SSE2, AVX, AVX2 등과 같은 x86 멀티미디어 확장에는 벡터의 크기가 바뀔 때마다 많은 opcode를 새로 추가해야 함
6. 또한, 멀티미디어 확장과 달리, 꼭 인접한 데이터를 사용해야 한다는 제약이 없음
   - 벡터는 하드웨어적으로 매 n번쨰의 데이터를 적재하도록 하는 일정한 간격의 접근(Strided Access)과 아울러 벡터 레지스터에 적재할 원소의 주소를 하드웨어적으로 계산하는 인덱스 접근(Indexed Access)을 지원
   - 인덱스를 이용해 메모리에 산재된 데이터를 인접한 벡터 원소에 적재하고, 인덱스를 이용해여 벡터 원소를 메모리에 분산시키므로 인덱스 접근을 수집-분산(Gather-Scatter)라고 부름

7. 멀티미디어 확장처럼 벡터도 데이터의 폭을 쉽게 바꿀 수 있음
   - 즉 64비트 데이터 32개, 32비트 데이터 64개, 16비트 데이터 128개, 8비트 데이터 256개를 동일한 벡터 연산으로 처리할 수 있음
   - 벡터 명령어의 병렬성은 깊이가 깊은 파이프라인 기능 유닛을 사용하든지, 배열 구조 병렬 기능 유닛을 사용하든지, 혹은 파이프라인 기능 유닛과 병렬 기능 유닛을 조합해 사용함으로 구현 가능
   - 벡터 덧셈 명령어를 수행하는 데 병렬 파이프라인을 이용할 때 벡터 성능을 높이는 방법
<div align="center">
<img src="https://github.com/user-attachments/assets/7792d1ba-54eb-4e92-bcda-30c847e42dcd">
</div>

8. 벡터 산술 명령어는 일반적으로 한 벡터 레지스터의 N 번쨰 원소와 다른 벡터 레지스터의 N 번째 원소끼리의 연산만을 허용
   - 그렇기 때문에 병렬성이 큰 벡터 유닛을 만드는 일이 아주 간단해지는데, 병렬 벡터 레인(Vector Lane, 하나 이상의 벡터 기능 유닛과 벡터 레지스터 파일의 일부 / 고속도로에서 레인(차선)을 증가시켜 교통 속도를 개선하는 것처럼 다수의 레인이 벡터 연산을 동시에 실행하여 성능을 개선) 여러 개로 만들 수 있음
   - 레인을 늘리면 벡터 유닛의 최대 처리량을 증가시킬 수 있음
   - 4개의 레인을 갖는 벡터 유닛의 구조
<div align="center">
<img src="https://github.com/user-attachments/assets/5021d9c9-40d0-42a9-9467-3621d847682f">
</div>

   - 1개의 레인에서 4개의 레인으로 바꾸면 벡터 명령어 하나당 클럭 사이클 수가 대략 1/4로 줄어듬
     + 레인이 많은 것이 성능 개선에 도움이 되려면 응용과 컴퓨터 구조가 모두 긴 벡터를 지원해야 함
     + 그렇지 않다면 명령어 실행이 너무 빨리 끝나서 더 이상 실행할 명령어가 없는 상황이 될 수 있으므로, 명령어 수준 병렬 기술을 사용해 충분한 수의 벡터 명령어를 공급해야 함

9. 일반적으로 벡터 구조는 데이터 병렬 처리 프로그램 수행에 매우 효율적이며, 멀티미디어 확장보다 컴파일러 기술과도 잘 맞으며, x86 구조에 멀티미디어 확장을 하는 것보다 시간에 따라 점진적으로 발전시키기도 더 쉬움

10. 벡터 레지스터는 크기가 커서 상태 저장 시간이 오래걸리므로 문맥 전환 시간이 길어지며, 벡터 적재와 저장 시 발생하는 페이지 부재가 처리하기 어렵다는 우려도 있으며, 벡터 명령어 장점 중 일부는 SIMD 명령어로도 읽을 수 있음
    - 게다가 명령어 수준 병렬성 발전만으로도 성능 개선을 할 수 있으므로, 다른 형태의 구조로 바꿀 필요가 없음

11. 벡터와 멀티미디어 확장의 또 다른 장점은 데이터 병렬 연산의 성능을 개선하기 위해 스칼라 명령 집합 구조에 이 명령어들을 추가하는 것이 비교적 쉬움
    
