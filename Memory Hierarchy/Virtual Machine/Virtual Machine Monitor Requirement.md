-----
### 가상 머신 모니터의 요구사항
-----
1. 가상 머신 모니터의 역할
   - 손님 소프트웨어에게 소프트웨어 인터페이스를 제공하고, 손님의 상태를 다른 손님들과 격리시켜야 하며, 손님 OS를 포함한 손님 소프트웨어로부터 자기 자신을 보호해야 함
   - VMM의 요구 사항
     - 손님 소프트웨어는 성능에 관련된 동작이나 여러 개의 VM과 공유하는 고정된 자원의 한계를 제외하고는 마치 실제 하드웨어 상에서 동작하는 것과 똑같이 VM 위에서 동작해야 함
     - 손님 소프트웨어는 실제 시스템의 자원 할당을 직접 변경할 수 없어야 함

2. 프로세서를 가상화하기 위해 VMM은 손님 VM과 현재 실행 중인 OS가 일시적으로 사용하고 있더라도, 특권 상태 접근 및 I/O, 예외, 인터럽트와 같은 모든 것을 직접 제어해야 함
   - 예를 들어, 타이머 인터럽트의 경우 VMM은 현재 동작하고 있는 손님 VM을 일시적으로 중지시키고 그 상태를 저장
   - 그리고 인터럽트를 처리하고, 이어서 어떤 손님 VM을 수행할지 결정하고, 그 상태를 적재
   - 타이머 인터럽트를 사용하는 손님 VM에게 가상 타이머와 VMM이 인터럽트 하는 에뮬레이션 된 타이머를 제공

3. 이러한 역할을 수행하기 위해 VMM은 일반적으로 사용자 모드에서 실행되는 손님 VM보다 높은 권한을 가져야 함
   - 또한 어떠한 특권 명령어도 VMM이 처리할 수 있다는 것을 보장
   - 운영체제 가상 머신의 기본적인 요구사항
     + 최소한 2개의 프로세서 모드, 즉 시스템 모드와 사용자 모드
     + 시스템 모드에서만 사용할 수 있는 특권 명령어, 이 명령어를 사용자 모드에서 실행하면 트랩이 발생 : 모든 시스템 자원은 이 명령어들을 통해서만 제어할 수 있어야 함
