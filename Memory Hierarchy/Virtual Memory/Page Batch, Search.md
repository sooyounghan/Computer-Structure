-----
### 페이지 배치와 찾기
-----
1. 페이지 부재의 손실이 엄청나게 크므로 시스템 설계자는 페이지 배치를 최적화함으로써 페이지 부재 발생수를 줄이고자 함
   - 가상 페이지가 어떤 실제 페이지로도 사상될 수 있게 하면, 운영체제는 페이지 부재 발생 시 어떤 페이지든 마음대로 선택할 수 있음
   - 예를 들면, 운영체제가 페이지 사용을 추적하는 정교한 알고리즘과 복잡한 자료구조를 사용하여 앞으로 오랫동안 필요하지 않을 것 같은 페이지를 선택할 수 있음
   - 유연하고 효과적인 교체 방식을 사용함으로써 페이지 부재 발생률을 낮추고 완전 연관 페이지 배치의 사용을 단순화시킬 수 있음

2. 완전 연관 방식을 사용하는 데 있어서의 가장 큰 어려움은 엔트리의 위치를 알아내는 것
   - 상위 계층의 어디에도 있을 수 있기 때문이며, 메모리 전체를 검색하는 것은 비실용적이라서 가상 메모리 시스템에서는 메모리를 인덱스하는 표를 사용 : 이 표는 페이지 테이블(Page Table)이라고 부르며 메모리 내에 존재
     + 페이지 테이블 : 가상 메모리 시스템에서 가상 주소를 실제 주소로 변환해 주는 테이블로, 메모리에 있는 이 테이블은 가상 페이지 번호로 인덱스되며, 해당 페이지가 실제 메모리 내에 있을 떄 테이블 엔트리는 가상 페이지에 상응하는 실제 페이지 번호를 갖고 있음

   - 페이지 테이블은 가상 주소의 페이지 번호로 인덱스되어 대응되는 실제 페이지 번호를 찾아주며, 각 프로그램은 각자 자신의 페이지 테이블을 갖고 있으며, 페이지 테이블은 그 프로그램의 가상 주소 공간을 메인 메모리로 사상
   - 페이지 테이블은 메모리에 적재되지 않은 페이지의 엔트리도 포함하고 있으며, 메모리 내 페이지 테이블 위치를 나타내기 위해 페이지 테이블 시작 주소를 나타내는 레지스터가 하드웨어에 포함되고 있음
   - 이 레지스터를 페이지 테이블 레지스터(Page Table Register)라고 부름
   - 당분간은 페이지 테이블이 메모리 내부 고정된 위치의 연속된 영역을 차지하고 있다고 가정

3. 하드웨어가 어떻게 페이지 테이블 레지스터, 가상 주소, 페이지 테이블을 이용해 실제 주소를 만들어내는지 보여주는 그림
<div align="center">
<img src="https://github.com/user-attachments/assets/9b13dd2b-7b4b-495b-9a01-7b3b25c6ac14">
</div>

   - 유효 비트는 캐시에서처럼 페이지 테이블 엔트리마다 하나씩 붙어 있음
     + 이 비트가 0이면 그 페이지는 메인 메모리에 없는 것이고, 따라서 페이지 부재가 발생
     + 이 비트가 1이면 그 페이지는 메인 메모리에 있으며, 페이지 테이블 엔트리에 실제 페이지 번호가 있음

   - 페이지 테이블은 있을 수 있는 가상 페이지에 대한 사상 모두 다 갖고 있으므로, 태그가 필요 없음
     + 캐시 용어로 설명하자면, 페이지 테이블 접근에 사용되는 인덱스는 블록 주소 전부, 즉 가상 페이지 번호로 되어 있음

4. 페이지 테이블은 프로그램 카운터, 레지스터들과 함께 가상 머신 상태를 특정
   - 다른 가상 머신이 프로세서를 완벽하게 사용하게 하려면 이 상태를 저장해야 함 : 나중에 상태를 완벽하게 복구한 다음, 그 가상 머신의 실행을 계속할 수 있음
     + 이런 상태를 프로세스(Process)라고 하며, 프로세스가 프로세서를 점유하고 있을 때를 활성화(Active) 상태라고 하고, 그 반대의 경우를 비활성화(Inactive)라고 함
   - 운영체제는 프로그램 카운터를 포함하는 프로세서 상태를 다시 적재함으로써 프로세스를 활성화 상태로 만들고, 저장된 프로그램 카운터 값에 해당하는 위치에서 수행 시작
   - 프로세스 주소 공간과 접근할 수 있는 메모리 내 모든 데이터들은 메모리 내에 존재하는 페이지 테이블에 의 해정의
     + 운영체제는 페이지 테이블 전체를 저장하는 대신, 활성화하려는 프로세스의 페이지 테이블 주소를 페이지 테이블 레지스터에 적재
     + 다른 프로세스들이 같은 사상 주소를 사용하므로 모든 프로세스는 자신만의 페이지 테이블을 갖고 있음
     + 서로 다른 프로세스들의 가상 주소 공간들이 충돌하지 않도록 운영체제가 실제 메모리를 할당하고 페이지 테이블을 갱신하는 일을 책임짐
     + 프로세스마다 별도 페이지 테이블을 사용하는 것이 프로세스들 사이 보호 기능을 제공하는 역할도 함
