-----
### 장애의 정의
-----
1. 신용도를 확보하는 큰 아이디어는 여유분을 사용하는 것
2. 적합한 서비스의 명세가 있다고 가정 : 사용자는 시스템이 서비스 명세를 기준으로 두 가지 상태 사이클을 왔다 갔다하는 것을 볼 수 있음
   - 서비스 수행 : 서비스가 명세대로 제공되는 경우
   - 서비스 중단 : 제공되는 서비스가 명세와 다른 경우
   - 서비스 수행에서 서비스 중단으로 전이하는 것은 장애 때문이고, 서비스 중단에서 서비스 수행으로 전이하는 것은 복구라고 함
   - 장애는 영구적일 수 있고 일시적일 수 있음 : 일시적인 장애의 경우 시스템이 두 상태 사이를 왔다 갔다 하므로 진단을 내리기 어려우며, 영구적 장애가 진단이 더 쉬움

3. 신뢰성(Reliablity) : 어떤 기준 시점에서부터 서비스 수행의 지속성에 대한 측도로 장애가 발생하기까지의 시간과 같음
   - 그러므로 평균 무장애시간(Mean Time to Failure, MTTF)은 신뢰성의 척도
   - 관련 용어로 연간 장애율(Annual Failure Rate, AFR)이 존재
     + AFR은 주어진 MTTF에 대해 1년에 장애를 발생시킬 것으로 예상되는 장치의 비율을 퍼센트로 나타낸 값
     + MTTF가 클 때느 사람을 오도할 위험이 있지만, AFR은 직관적으로 잘 이해가 됨

4. 예) 디스크의 MTTF vs AFR
   - 오늘날 어떤 디스크들은 MTFF가 1,000,000 시간이라고 주장 (1,000,00시간은 1,000,000 / (365 X 24) = 114년이므로 현실적으로 절대 고장나지 않을 것 처럼 보임)
     + Search와 같은 인터넷 서비스를 제공하는 창고 규모 컴퓨터의 서버는 50,000대나 되며, 각 서버가 2개의 디스크를 갖는다고 가정
     + AFR를 사용해서 매년 얼마나 많은 디스크가 고장날 것으로 예상되는지 계산
   - 1년은 365 X 24 = 8760시간으로, 1,000,000 시간 MTTF는 8760 / 1,000,000 = 0.876%의 AFR를 의미
   - 디스크가 100,000개 있으면 매년 그중 876개가 고장난다고, 예측할 수 있고, 평균적으로 매일 2개의 디스크가 고장남을 의미

5. 서비스 중단은 평균 복구시간(Mean Time to Repair, MTTR)으로 측정
   - 장애 간 평균시간(Mean Time Between Failure, MTBF)은 단순히 평균 무장애시간과 평균 복구시간을 더한 것
   - MTBF가 많이 사용되지만 MTTF가 더 적절한 용어

6. 가용성(Availability) : 서비스의 수행과 중단, 두 상태를 왔다 갔다 하는 것과 관련된 서비스 수행 척도로, 가용성은 다음과 같이 통계적으로 정량화 가능
<div align="center">
<img src="https://github.com/user-attachments/assets/8d41b2c5-4b4e-4b2b-b1ed-0fc28f15335e">
</div>

   - 신뢰성과 가용성은 그저 신용도와 비슷한 용어가 아니라 정량화할 수 있는 척도
   - MTTR을 줄임으로써 MTTF를 늘리는 것 만큼 가용성을 높일 수 있음
     + 예를 들어, 결함의 탐지 / 진단 / 수리에 사용되는 도구는 결함을 수리하는 데 걸리는 시간을 단축시키는 데 도움이 되어서 가용성을 향상시킬 수 있음

   - 누구나 가용성이 매우 높기를 바람
     + 높은 가용성을 나타내는 한 가지 방법은 연간 가용성의 9(Nines of Availability) 개수를 사용하는 것
     + 예를 들어, 오늘날 매우 안정적 인터넷 서비스는 4 ~ 5개의 가용성 9를 제공
     + 1년 365일이므로 365 X 24 X 60 = 526,000분이 됨 (5 nines : 1년에 5분 간 수리를 의미)
<div align="center">
<img src="https://github.com/user-attachments/assets/86e8fef8-f4a8-4510-a5ff-1dbbdaa6aa98">
</div>

7. MTTF를 증가시키기 위해 부품의 품질을 개선하거나, 일부 장애가 발생한 부품이 있더라도 계속 작동하도록 시스템을 설계할 수 있음
   - 그렇다면 부품에 장애가 있더라도 시스템에는 장애가 발생하지 않을 수 있으므로 장애를 다시 정의할 필요가 있음
   - 이러한 상황을 명확하게 구분하기 위해 부품의 장애에는 결함(Fault)이라는 용어 사용
   - MTTF를 개선하는 세 가지 방법
     + 결함 회피(Fault Avoidance) : 결함 발생을 구조적으로 방지하는 방법
     + 결함 감내(Fault Tolerance) : 결함이 나타나더라도 서비스 명세대로 서비스가 제공될 수 있도록 여유분을 사용하는 방법
     + 결함 예상(Fault Forecasting) : 결함의 존재와 발생을 예측하는 방법으로, 구성 요소가 실패하기 전 교체할 수 있도록 함
